{"version":3,"sources":["hoc/withForm.js","core/utils/validator.js","components/FormImage/FormImage.js","views/Register.js"],"names":["withFrom","formHeading","WrappedForm","nameFieldRender","secondNameFieldRender","emailFieldRender","passwordFieldRender","birthdateFieldRender","props","useState","setIsLoading","isError","isEnoughLongPassword","password","schema","passwordValidator","is","min","validate","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","FormImage","name","setName","secondName","setSecondName","email","setEmail","setPassword","birthdate","setBirthdate","dispatch","useDispatch","handleChange","e","target","value","Container","Form","onSubmit","preventDefault","authOperations","register","logIn","FormGroup","Input","className","type","id","placeholder","onChange","required","Button","Register","WithFormRegister","withForm"],"mappings":"0KAgCeA,IA7BE,SACfC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,OAAO,SAACC,GACN,MAAkCC,oBAAS,GAA3C,mBAAkBC,GAAlB,WACA,EAA8BD,oBAAS,GAAvC,mBAAOE,EAAP,UAEA,OACE,cAACT,EAAD,2BACMM,GADN,IAEEP,YAAaA,EACbS,aAAcA,EACdC,QAASA,EACTR,gBAAiBA,EACjBC,sBAAuBA,EACvBC,iBAAkBA,EAClBC,oBAAqBA,EACrBC,qBAAsBA,Q,2ICWfK,EAlCc,SAACC,GAC1B,IAAIC,EAAS,IAAIC,IAEjB,GADAD,EAAOE,KAAKC,IAAI,IACXH,EAAOI,SAASL,GAUjB,OATAM,IAAMC,MAAM,4CAA6C,CACrDC,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,KAEP,G,OCmKAC,IA1KG,SAAC,GASZ,IARL5B,EAQI,EARJA,YACAE,EAOI,EAPJA,gBACAC,EAMI,EANJA,sBACAC,EAKI,EALJA,iBACAC,EAII,EAJJA,oBACAC,EAGI,EAHJA,qBAIA,GADI,EAFJI,QAEI,EADJD,aAEwBD,mBAAS,KAAjC,mBAAOqB,EAAP,KAAaC,EAAb,KACA,EAAoCtB,mBAAS,IAA7C,mBAAOuB,EAAP,KAAmBC,EAAnB,KACA,EAA0BxB,mBAAS,IAAnC,mBAAOyB,EAAP,KAAcC,EAAd,KACA,EAAgC1B,mBAAS,IAAzC,mBAAOI,EAAP,KAAiBuB,EAAjB,KACA,EAAkC3B,mBAAS,IAA3C,mBAAO4B,EAAP,KAAkBC,EAAlB,KAEMC,EAAWC,cAEXC,EAAe,SAACC,GACpB,MAAwBA,EAAEC,OAAlBb,EAAR,EAAQA,KAAMc,EAAd,EAAcA,MACd,OAAQd,GACN,IAAK,OACHC,EAAQa,GACR,MAEF,IAAK,aACHX,EAAcW,GACd,MAEF,IAAK,QACHT,EAASS,GACT,MAEF,IAAK,WACHR,EAAYQ,GACZ,MAEF,IAAK,YACHN,EAAaM,GACb,MAEF,QACE,SAoDN,OACE,cAACC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAMC,SAlDW,SAACL,GACpBA,EAAEM,iBAiBF,OARAjB,EAAQD,GACRG,EAAcD,GACdG,EAASD,GACLtB,EAAqBC,IACvBuB,EAAYvB,GAEdyB,EAAaD,GAELpC,GACN,IAAK,eACHsC,EACEU,IAAeC,SAAS,CACtBpB,OACAE,aACAE,QACArB,WACAwB,eAGJ,MAEF,IAAK,QACHE,EACEU,IAAeE,MAAM,CACnBjB,QACArB,gBAeN,UACGV,GACC,cAACiD,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CACEC,UAAU,sBACVC,KAAK,OACLzB,KAAK,OACLc,MAAOd,EACP0B,GAAG,OACHC,YAAY,OACZC,SAAUjB,MAIfrC,GACC,cAACgD,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CACEC,UAAU,gBACVC,KAAK,OACLzB,KAAK,aACLc,MAAOZ,EACPwB,GAAG,aACHC,YAAY,cACZC,SAAUjB,MAIfpC,GACC,cAAC+C,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CACEC,UAAU,gBACVC,KAAK,QACLzB,KAAK,QACLc,MAAOV,EACPsB,GAAG,QACHC,YAAY,QACZC,SAAUjB,EACVkB,UAAQ,MAIbrD,GACC,cAAC8C,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CACEC,UAAU,gBACVC,KAAK,WACLzB,KAAK,WACLc,MAAO/B,EACP2C,GAAG,WACHC,YAAY,YACZC,SAAUjB,EACVkB,UAAQ,MAIbpD,GACC,cAAC6C,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CACEC,UAAU,gBACVC,KAAK,OACLzB,KAAK,YACLc,MAAOP,EACPmB,GAAG,YACHC,YAAY,YACZC,SAAUjB,MAIhB,cAACmB,EAAA,EAAD,CAAQN,UAAU,MAAlB,SAAyBrD,W,oFCpJlB4D,UApBE,WACf,MAA8CpD,oBAAS,GAAvD,mBAAON,EAAP,KACA,GADA,KAC0DM,oBAAS,IAAnE,mBAAOL,EAAP,KACA,GADA,KACgDK,oBAAS,IAAzD,mBAAOJ,EAAP,KACA,GADA,KACsDI,oBAAS,IAA/D,mBAAOH,EAAP,KACA,GADA,KACwDG,oBAAS,IAAjE,mBAAOF,EAAP,KAEMuD,GAFN,KAEyBC,YACvB,eACAlC,IACA1B,EACAC,EACAC,EACAC,EACAC,IAGF,OAAO,cAACuD,EAAD","file":"static/js/5.ef992541.chunk.js","sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport React, { useState } from \"react\";\r\n\r\nconst withFrom = (\r\n  formHeading,\r\n  WrappedForm,\r\n  nameFieldRender,\r\n  secondNameFieldRender,\r\n  emailFieldRender,\r\n  passwordFieldRender,\r\n  birthdateFieldRender\r\n) => {\r\n  return (props) => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isError, setIsError] = useState(false);\r\n\r\n    return (\r\n      <WrappedForm\r\n        {...props}\r\n        formHeading={formHeading}\r\n        setIsLoading={setIsLoading}\r\n        isError={isError}\r\n        nameFieldRender={nameFieldRender}\r\n        secondNameFieldRender={secondNameFieldRender}\r\n        emailFieldRender={emailFieldRender}\r\n        passwordFieldRender={passwordFieldRender}\r\n        birthdateFieldRender={birthdateFieldRender}\r\n      />\r\n    );\r\n  };\r\n};\r\n\r\nexport default withFrom;\r\n","import passwordValidator from 'password-validator'\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst isEnoughLongPassword = (password) => {\r\n    let schema = new passwordValidator();\r\n    schema.is().min(8)\r\n    if (!schema.validate(password)) {\r\n        toast.error('Password must be longer than 8 characters', {\r\n            position: \"top-right\",\r\n            autoClose: 10000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n        });\r\n        return false;\r\n    }\r\n}\r\n\r\nconst isValidPassword = (password) => {\r\n    let schema = new passwordValidator();\r\n    schema.is().min(8)\r\n    if (!schema.validate(password)) {\r\n        toast.error('Password must be longer than 8 characters', {\r\n            position: \"top-right\",\r\n            autoClose: 5000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n        });\r\n        return false;\r\n    }\r\n}\r\n\r\nexport default isEnoughLongPassword;","/* eslint-disable default-case */\r\n/* eslint-disable no-unused-vars */\r\nimport React, { useState } from \"react\";\r\nimport { Container, Button, Form, FormGroup, Input } from \"reactstrap\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { authOperations } from \"../../redux/auth\";\r\nimport isEnoughLongPassword from \"../../core/utils/validator\"\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst FormImage = ({\r\n  formHeading,\r\n  nameFieldRender,\r\n  secondNameFieldRender,\r\n  emailFieldRender,\r\n  passwordFieldRender,\r\n  birthdateFieldRender,\r\n  isError,\r\n  setIsLoading,\r\n}) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [secondName, setSecondName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [birthdate, setBirthdate] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    switch (name) {\r\n      case \"name\":\r\n        setName(value);\r\n        break;\r\n\r\n      case \"secondName\":\r\n        setSecondName(value);\r\n        break;\r\n\r\n      case \"email\":\r\n        setEmail(value);\r\n        break;\r\n\r\n      case \"password\":\r\n        setPassword(value);\r\n        break;\r\n\r\n      case \"birthdate\":\r\n        setBirthdate(value);\r\n        break;\r\n\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const userInfo = {\r\n      name,\r\n      secondName,\r\n      email,\r\n      password,\r\n      birthdate,\r\n    };\r\n\r\n    setName(name);\r\n    setSecondName(secondName);\r\n    setEmail(email);\r\n    if (isEnoughLongPassword(password)) {\r\n      setPassword(password);\r\n    }\r\n    setBirthdate(birthdate);\r\n\r\n    switch (formHeading) {\r\n      case \"Registration\":\r\n        dispatch(\r\n          authOperations.register({\r\n            name,\r\n            secondName,\r\n            email,\r\n            password,\r\n            birthdate,\r\n          })\r\n        );\r\n        break;\r\n\r\n      case \"Login\":\r\n        dispatch(\r\n          authOperations.logIn({\r\n            email,\r\n            password,\r\n          })\r\n        );\r\n        break;\r\n    }\r\n\r\n    // setName(\"\");\r\n    // setSecondName(\"\");\r\n    // setEmail(\"\");\r\n    // setPassword(\"\");\r\n    // setBirthdate(\"\");\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Form onSubmit={handleSubmit}>\r\n        {nameFieldRender && (\r\n          <FormGroup>\r\n            <Input\r\n              className=\"mblank-2 my-2 w-320\"\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={name}\r\n              id=\"name\"\r\n              placeholder=\"Name\"\r\n              onChange={handleChange}\r\n            />\r\n          </FormGroup>\r\n        )}\r\n        {secondNameFieldRender && (\r\n          <FormGroup>\r\n            <Input\r\n              className=\"mblank-2 my-2\"\r\n              type=\"text\"\r\n              name=\"secondName\"\r\n              value={secondName}\r\n              id=\"secondname\"\r\n              placeholder=\"Second name\"\r\n              onChange={handleChange}\r\n            />\r\n          </FormGroup>\r\n        )}\r\n        {emailFieldRender && (\r\n          <FormGroup>\r\n            <Input\r\n              className=\"mblank-2 my-2\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              id=\"email\"\r\n              placeholder=\"Email\"\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </FormGroup>\r\n        )}\r\n        {passwordFieldRender && (\r\n          <FormGroup>\r\n            <Input\r\n              className=\"mblank-2 my-2\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={password}\r\n              id=\"Password\"\r\n              placeholder=\"Password \"\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </FormGroup>\r\n        )}\r\n        {birthdateFieldRender && (\r\n          <FormGroup>\r\n            <Input\r\n              className=\"mblank-2 my-2\"\r\n              type=\"date\"\r\n              name=\"birthdate\"\r\n              value={birthdate}\r\n              id=\"birthdate\"\r\n              placeholder=\"Birthdate\"\r\n              onChange={handleChange}\r\n            />\r\n          </FormGroup>\r\n        )}\r\n        <Button className=\"m-3\">{formHeading}</Button>\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default FormImage;\r\n","/* eslint-disable no-unused-vars */\r\nimport React, { useState } from \"react\";\r\nimport withForm from \"../hoc/withForm\";\r\nimport FormImage from \"../components/FormImage/FormImage\";\r\n\r\nconst Register = () => {\r\n  const [nameFieldRender, setNameFieldRender] = useState(true);\r\n  const [secondNameFieldRender, setSecondNameFieldRender] = useState(true);\r\n  const [emailFieldRender, setEmailFieldRender] = useState(true);\r\n  const [passwordFieldRender, setPasswordFieldRender] = useState(true);\r\n  const [birthdateFieldRender, setBirthdateFieldRender] = useState(true);\r\n\r\n  const WithFormRegister = withForm(\r\n    \"Registration\",\r\n    FormImage,\r\n    nameFieldRender,\r\n    secondNameFieldRender,\r\n    emailFieldRender,\r\n    passwordFieldRender,\r\n    birthdateFieldRender\r\n  );\r\n\r\n  return <WithFormRegister />;\r\n};\r\n\r\nexport default Register;\r\n"],"sourceRoot":""}